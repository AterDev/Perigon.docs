# 创建解决方案

我们提供了两种方式来快速的创建解决方案:

- 命令行：使用`perigon new <name>`。
- 图形化界面创建：使用`perigon studio`启动面板。

两种方式都提供了交互式操作，来帮助用户更好的创建解决方案, 本篇内容主要说明创建时的配置和选项。

## 选择数据库

创建解决方案时，你可以选择`Sqlserver`或`PostgreSql`，这是推荐使用的数据库。

## 使用其他数据库

模板使用`EntityFramework Core`作为ORM框架，这意味着，你可以使用任何提供EF Core Provider的数据库，但你需要进行一些额外的操作：

- 修改 `ServiceDefaults/FrameworkExtensions.cs` 中的`AddDbContext`方法，以支持你需要的数据库类型。

- 修改 `Definition/EntityFramework`中的了`ContextBase`或`TenantDbFactory`,以支持你需要的数据库类型。

## 数据库连接字符串

使用`Aspire`配置开发环境，并不需要我们手动配置连接字符串，`Aspire`会自动生成并注入连接字符串。

如果需要连接已存在的数据库，也可以在`AppHost`中去定义相关资源。

详细内容请参考[使用AppHost配置开发环境](./项目模板/使用AppHost配置开发环境.md)。

## 选择缓存

缓存有三个选项:

- Memory: 仅使用内存缓存，可使用`IMemoryCache`接口。
- Redis: 使用支持redis缓存，可使用`IDistributedCache`接口。
- Hybrid: 同时支持内存缓存和Redis缓存。

缓存操作统一使用微软的`Microsoft.Extensions.Caching.Hybrid`库实现，其内部会根据策略调用`IMemoryCache`或`IDistributedCache`接口。

框架封装了`CacheService`服务和简化缓存的操作，建议统一使用该服务。

更多缓存相关的配置，在创建完解决方案后，可以在`appsettings.json`中进行配置。

> [!TIP]
> 关于HybridCache的内容，请参考[微软官方文档](https://learn.microsoft.com/en-us/aspnet/core/performance/caching/hybrid?view=aspnetcore-9.0)。

## 消息队列

创建时暂不支持

## 选择认证方式

默认支持`JWT`认证方式。其他方式需要自己手动集成。

## 选择前端框架

目前支持`Angular`项目模板。